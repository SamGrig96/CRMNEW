{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\grigo\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\CRM\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\grigo\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\CRM\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\grigo\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\CRM\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\grigo\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\CRM\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\grigo\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\CRM\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\grigo\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\CRM\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{PureComponent}from\"react\";import Checkbox from\"../../../common/Checkbox\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{toggleSelected,modifyMessages}from\"../actions/message-list.actions\";import Pager from\"../pager-buttons/PagerButtons\";import ListActionButtons from\"./ListActionButtons\";export var MessageToolbar=/*#__PURE__*/function(_PureComponent){_inherits(MessageToolbar,_PureComponent);var _super=_createSuper(MessageToolbar);function MessageToolbar(props){var _this;_classCallCheck(this,MessageToolbar);_this=_super.call(this,props);_this.onSelectionChange=_this.onSelectionChange.bind(_assertThisInitialized(_this));_this.navigateToNextPage=_this.navigateToNextPage.bind(_assertThisInitialized(_this));_this.navigateToPrevPage=_this.navigateToPrevPage.bind(_assertThisInitialized(_this));_this.modifyMessages=_this.modifyMessages.bind(_assertThisInitialized(_this));_this.state={selectedMessageIds:[]};return _this;}_createClass(MessageToolbar,[{key:\"onSelectionChange\",value:function onSelectionChange(evt){var checked=evt.target.checked;var messageIds=this.props.messagesResult.messages.reduce(function(acc,el){acc.push(el.id);return acc;},[]);this.setState({selectedMessageIds:messageIds});this.props.toggleSelected(messageIds,checked);}},{key:\"navigateToNextPage\",value:function navigateToNextPage(){this.props.navigateToNextPage(this.props.nextToken);}},{key:\"navigateToPrevPage\",value:function navigateToPrevPage(){this.props.navigateToPrevPage(this.props.prevToken);}},{key:\"modifyMessages\",value:function modifyMessages(addLabelIds,removeLabelIds){var ids=this.props.messagesResult.messages.filter(function(el){return el.selected;}).map(function(el){return el.id;});var actionParams=_objectSpread(_objectSpread({},addLabelIds&&{addLabelIds:addLabelIds}),removeLabelIds&&{removeLabelIds:removeLabelIds});this.props.modifyMessages(_objectSpread({ids:ids},actionParams));}},{key:\"render\",value:function render(){var checked=false;var selectedMessages=[];if(this.props.messagesResult){selectedMessages=this.props.messagesResult.messages.filter(function(el){return el.selected;});checked=this.props.messagesResult.messages.length>0&&selectedMessages.length===this.props.messagesResult.messages.length;}return/*#__PURE__*/React.createElement(\"div\",{className:\"msg-toolbar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pl-4 py-4 pr-6 d-flex align-items-center bd-highlight\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-content-center align-items-center\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Checkbox,{checked:checked,onChange:this.onSelectionChange})),/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"ml-auto p-2 bd-highlight test\"},/*#__PURE__*/React.createElement(\"div\",null,selectedMessages.length?/*#__PURE__*/React.createElement(ListActionButtons,{onClick:this.modifyMessages}):null))),/*#__PURE__*/React.createElement(Pager,{nextToken:this.props.nextToken,prevToken:this.props.prevToken,navigateToPrevPage:this.navigateToPrevPage,navigateToNextPage:this.navigateToNextPage})));}}]);return MessageToolbar;}(PureComponent);var mapStateToProps=function mapStateToProps(state){return{messagesResult:state.messagesResult};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({toggleSelected:toggleSelected,modifyMessages:modifyMessages},dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(MessageToolbar);","map":{"version":3,"sources":["C:/Users/grigo/OneDrive/Рабочий стол/CRM/src/components/content/message-list/list-toolbar/ListToolbar.jsx"],"names":["React","PureComponent","Checkbox","connect","bindActionCreators","toggleSelected","modifyMessages","Pager","ListActionButtons","MessageToolbar","props","onSelectionChange","bind","navigateToNextPage","navigateToPrevPage","state","selectedMessageIds","evt","checked","target","messageIds","messagesResult","messages","reduce","acc","el","push","id","setState","nextToken","prevToken","addLabelIds","removeLabelIds","ids","filter","selected","map","actionParams","selectedMessages","length","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { PureComponent } from \"react\";\r\nimport Checkbox from \"../../../common/Checkbox\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  toggleSelected,\r\n  modifyMessages\r\n} from \"../actions/message-list.actions\";\r\nimport Pager from \"../pager-buttons/PagerButtons\";\r\nimport ListActionButtons from \"./ListActionButtons\";\r\n\r\nexport class MessageToolbar extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSelectionChange = this.onSelectionChange.bind(this);\r\n    this.navigateToNextPage = this.navigateToNextPage.bind(this);\r\n    this.navigateToPrevPage = this.navigateToPrevPage.bind(this);\r\n    this.modifyMessages = this.modifyMessages.bind(this);\r\n\r\n    this.state = {\r\n      selectedMessageIds: []\r\n    };\r\n  }\r\n\r\n  onSelectionChange(evt) {\r\n    const checked = evt.target.checked;\r\n\r\n    const messageIds = this.props.messagesResult.messages.reduce((acc, el) => {\r\n      acc.push(el.id);\r\n      return acc;\r\n    }, []);\r\n\r\n    this.setState({\r\n      selectedMessageIds: messageIds\r\n    });\r\n\r\n    this.props.toggleSelected(messageIds, checked);\r\n  }\r\n\r\n  navigateToNextPage() {\r\n    this.props.navigateToNextPage(this.props.nextToken);\r\n  }\r\n\r\n  navigateToPrevPage() {\r\n    this.props.navigateToPrevPage(this.props.prevToken);\r\n  }\r\n\r\n  modifyMessages(addLabelIds, removeLabelIds) {\r\n    const ids = this.props.messagesResult.messages.filter(el => el.selected).map(el => el.id);\r\n    const actionParams = {\r\n      ...addLabelIds && {addLabelIds},\r\n      ...removeLabelIds && {removeLabelIds}\r\n    };\r\n    this.props.modifyMessages({ ids, ...actionParams});\r\n  }\r\n\r\n  render() {\r\n\r\n    let checked = false;\r\n    let selectedMessages = [];\r\n\r\n    if (this.props.messagesResult) {\r\n      selectedMessages = this.props.messagesResult.messages.filter(el => el.selected);\r\n      checked = this.props.messagesResult.messages.length > 0 &&  selectedMessages.length === this.props.messagesResult.messages.length;\r\n    }\r\n\r\n    return (\r\n      <div className=\"msg-toolbar\">\r\n        <div className=\"pl-4 py-4 pr-6 d-flex align-items-center bd-highlight\">\r\n          <div className=\"d-flex align-content-center align-items-center\">\r\n            <div>\r\n              <Checkbox checked={checked} onChange={this.onSelectionChange} />\r\n            </div>\r\n            <div />\r\n\r\n            <div className=\"ml-auto p-2 bd-highlight test\">\r\n              <div>\r\n                {selectedMessages.length ? (\r\n                  <ListActionButtons onClick={this.modifyMessages} />\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <Pager\r\n            nextToken={this.props.nextToken}\r\n            prevToken={this.props.prevToken}\r\n            navigateToPrevPage={this.navigateToPrevPage}\r\n            navigateToNextPage={this.navigateToNextPage}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  messagesResult: state.messagesResult\r\n});\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n  bindActionCreators(\r\n    {\r\n      toggleSelected,\r\n      modifyMessages\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MessageToolbar);\r\n"]},"metadata":{},"sourceType":"module"}